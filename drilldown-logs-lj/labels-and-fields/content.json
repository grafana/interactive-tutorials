{
  "id": "drilldown-logs-labels-and-fields",
  "title": "Filtering logs with labels and fields",
  "blocks": [
    {
      "type": "markdown",
      "content": "You can analyze and investigate the data and spot log trends and patterns. Reviewing related logs also provides a broader understanding of what's happening in your application.\n\nYou use **Labels** and **Fields** to filter logs. Labels are key-value pairs attached to each log line when it's ingested into Loki. Fields are key-value pairs parsed from the log line and useful for filtering logs in finer detail.\n\nTo filter the logs with labels and fields, perform the following steps:"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "a[data-testid='data-testid tab-labels']",
      "content": "Click the **Labels** tab to show log visualizations for the labels attached to your log lines.\n\nThe following example shows all the available labels for a service.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "image",
      "src": "/media/docs/learning-journey/logs-drilldown/logs-label-v2.png",
      "alt": "Logs Drilldown showing labels for a specific service"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "a[aria-label='Select detected_level']",
      "content": "Look for an interesting label and click the **Select** button to view the log visualization for that label.\n\nUsing the error example from the previous milestone, the `deployment_environment` label is selected, which shows the error breakdown by environment.",
      "requirements": ["exists-reftarget"],
      "doIt": false
    },
    {
      "type": "image",
      "src": "/media/docs/learning-journey/logs-drilldown/log-specific-label-v2.png",
      "alt": "Logs Drilldown showing a specific label"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "button:contains('Include')",
      "content": "To include logs for a specific label value, find the value you want and click **Include**.\n\nUsing the error example from the previous milestone, the `prod` value is the only value included.",
      "requirements": ["exists-reftarget"],
      "doIt": false
    },
    {
      "type": "image",
      "src": "/media/docs/learning-journey/logs-drilldown/log-specific-value.png",
      "alt": "Logs Drilldown showing a specific label value included"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "a[data-testid='data-testid tab-fields']",
      "content": "Repeat the process for the **Fields** tab to further refine your filters.\n\nIn the following example, the `protocol` field is selected, and only the `HTTP/2.0` value is included.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "image",
      "src": "/media/docs/learning-journey/logs-drilldown/logs-specific-field.png",
      "alt": "Logs Drilldown showing a specific field"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "a[data-testid='data-testid tab-logs']",
      "content": "Click the **Logs** tab again and investigate the log volumes and log entries related to the filters you set.\n\nUsing the same error example, you should only see error logs specific to production where the protocol is `HTTP/2.0`.",
      "requirements": ["exists-reftarget"],
      "doIt": false
    },
    {
      "type": "markdown",
      "content": "In the next milestone, you'll learn how to use log patterns to spot spikes or other changes in your application."
    }
  ]
}
