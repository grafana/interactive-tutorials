{
  "id": "drilldown-traces-view-distribution",
  "title": "View distribution of trace span durations",
  "blocks": [
    {
      "type": "markdown",
      "content": "Your first milestone in understanding traces and system performance is to view the distribution of trace span durations.\n\nViewing the distribution of trace span durations helps you:\n\n- Spot spans with unusually high durations that may indicate bottlenecks or performance issues.\n- Analyze the overall performance trends of your system, such as whether most spans fall within an acceptable range.\n- Link high-duration spans to specific services, endpoints, or attributes to uncover root causes.\n- Focus on spans with the greatest impact on user experience or system performance."
    },
    {
      "type": "markdown",
      "content": "To view the distribution of trace span durations, complete the following steps:"
    },
    {
      "type": "multistep",
      "content": "On the Grafana Cloud home page, open the navigation menu and click **Drilldown > Traces**.",
      "steps": [
        {
          "action": "highlight",
          "reftarget": "button[aria-label='Expand section: Drilldown']"
        },
        {
          "action": "highlight",
          "reftarget": "a[data-testid='data-testid Nav menu item'][href='/a/grafana-exploretraces-app/']"
        }
      ],
      "requirements": ["navmenu-open"]
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "input[data-testid*='Dashboard template variables Variable Value DropDown value link text']",
      "content": "Select the data source you want to explore. The Traces Drilldown user interface appears.",
      "doIt": false,
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "label:contains('All spans')",
      "content": "On the **Filters** toolbar, click **All spans**.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "markdown",
      "content": "On the first row of panels, select the **Histogram by duration** radio button. The **Histogram by duration** panel moves to the center of the page."
    },
    {
      "type": "markdown",
      "content": "The following image provides the following insights:\n\n- The histogram shows the distribution of request durations over time. Most requests fall into shorter duration buckets (for example, 33.6 ms to 134 ms), but there are occasional longer durations (for example, up to 2.15 s).\n- Darker blocks represent fewer spans falling into a specific duration bucket. For example, at 9:00 AM, only 1-2 spans likely fell into the 2.15-second bucket. In contrast, the majority of spans fell into shorter duration buckets, such as the 537-millisecond bucket, which is represented by lighter-colored blocks.\n- The system exhibits variability in response times. This could indicate inconsistent performance, possibly due to resource contention, traffic spikes, or backend issues."
    },
    {
      "type": "image",
      "src": "https://grafana.com/media/docs/learning-journey/traces-drilldown/view-distribution.png",
      "alt": "Histogram showing trace span duration distribution"
    },
    {
      "type": "markdown",
      "content": "In the next milestone, you'll generate a list of the slowest traces so that you can begin identifying specific operations or services causing delays."
    }
  ]
}
