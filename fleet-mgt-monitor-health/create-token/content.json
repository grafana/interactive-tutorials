{
  "id": "guide-section-36937",
  "title": "Create an access token",
  "blocks": [
    {
      "type": "video",
      "provider": "youtube",
      "title": "Create access token",
      "src": "https://www.youtube.com/embed/PrjTxzc27Ns",
      "start": 166,
      "end": 216
    },
    {
      "type": "markdown",
      "content": "If your Grafana Alloy collector isn't shown on the Fleet Management page, you can manually register it.\n\nIn this milestone, you'll generate an access token that registers your collector with Fleet Management. In the next milestone, you'll add this token as the `password` in your Alloy configuration file."
    },
    {
      "type": "markdown",
      "content": "To create an access token, complete the following steps:"
    },
    {
      "type": "section",
      "blocks": [
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "a[data-testid='data-testid Nav menu item'][href='/a/grafana-collector-app/alloy']",
          "requirements": ["navmenu-open", "exists-reftarget"],
          "content": "In your Grafana Cloud instance, navigate to **Connections** > **Collector** > **Configure**."
        },
        {
          "type": "guided",
          "content": "Use the tool on this page to create a new token.",
          "steps": [
            {
              "type": "interactive",
              "action": "formfill",
              "reftarget": "input[data-testid='generate-token-name-input']",
              "description": "Give the token a name"
            },
            {
              "type": "interactive",
              "action": "highlight",
              "reftarget": "div[class*='grafana-select-value-container']:nth-match(3)",
              "description": "Set the token expiration date"
            },
            {
              "type": "interactive",
              "action": "hover",
              "reftarget": "div[data-scope-id='set:alloy-data-write']:nth-of-type(1)",
              "description": "You don't need to complete the rest of the installation instructions if you're not installing a new Alloy instance. The generated token comes with the predefined scope `set:alloy-data-write`, which includes scopes for reading remote configurations in Fleet Management and writing telemetry to Grafana Cloud databases. You can see the defined scopes by hovering over `set:alloy-data-write`"
            },
            {
              "type": "interactive",
              "action": "highlight",
              "reftarget": "button[data-testid='generate-token-submit-button']",
              "description": "Click the **Create token** button"
            }
          ]
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "button:contains('Copy to clipboard'):nth-match(1)",
          "content": "Copy the token and save it in a secure password file.\nYou'll need the token for the next step, but you won't be able to view it again once you leave the page."
        }
      ]
    },
    {
      "type": "markdown",
      "content": "In the next milestone, you'll use the token you just created to register the collector with Fleet Management."
    }
  ]
}
