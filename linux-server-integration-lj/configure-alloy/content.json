{
  "id": "linux-server-integration-configure-alloy",
  "title": "Configure Grafana Alloy",
  "blocks": [
    {
      "type": "video",
      "src": "https://www.youtube.com/embed/bCPjAVNMelk",
      "provider": "youtube",
      "title": "Configure Grafana Alloy walkthrough",
      "start": 117,
      "end": 145
    },
    {
      "type": "markdown",
      "content": "After you've installed Grafana Alloy, the next step is to configure it for the Linux Server integration. This configuration process requires you to copy a code snippet from Grafana Cloud and add it to the Alloy configuration file.\n\n**Did you know?** By default, the integration only collects the metrics and logs necessary to populate the Linux server dashboards and alerts. Although you have the option to configure Alloy to collect all available metrics and logs, we recommend starting with the default configuration.\n\nTo configure Alloy to use the Linux server integration:"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "div[data-testid='alloy-simple-block']+button",
      "requirements": ["exists-reftarget"],
      "content": "In the **Set up Grafana Alloy to use the Linux server integration** section, click **Copy to clipboard**."
    },
    {
      "type": "image",
      "src": "/media/docs/learning-journey/linux/snippet-1.png",
      "alt": "Shows the snippet to copy from Grafana Cloud to the Alloy configuration file"
    },
    {
      "type": "markdown",
      "content": "On your Linux machine, run the following command to open the Alloy configuration file:\n\n```\nsudo nano /etc/alloy/config.alloy\n```"
    },
    {
      "type": "markdown",
      "content": "Scroll to the end of the configuration file and paste the code snippet you copied from Grafana Cloud."
    },
    {
      "type": "markdown",
      "content": "Press `Ctrl+O` to write the changes to the file, then press **Enter** to save. Press `Ctrl+X` to exit the editor.\n\nIn the next step of your journey, you'll restart Alloy and test the configuration."
    }
  ]
}
