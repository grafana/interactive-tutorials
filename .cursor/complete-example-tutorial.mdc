---
alwaysApply: true
---

# Complete Example Guide - All Features Demonstration

## Guide: Advanced Grafana Monitoring Setup

This complete guide demonstrates all interactive features and best practices. Use this as a template for creating comprehensive guides.

```json
{
  "id": "advanced-grafana-monitoring",
  "title": "Advanced Grafana Monitoring Setup",
  "blocks": [
    {
      "type": "markdown",
      "content": "# Advanced Grafana Monitoring Setup\n\nWelcome to the complete Grafana monitoring setup guide! This comprehensive guide will teach you:\n\n- Setting up multiple data sources (Prometheus, Loki)\n- Creating effective monitoring dashboards\n- Configuring intelligent alerting rules\n- Understanding advanced Grafana features"
    },
    {
      "type": "section",
      "id": "interface-tour",
      "title": "Section 1: Grafana Interface Overview",
      "tooltip": "Educational tour of Grafana's main interface elements",
      "blocks": [
        {
          "type": "markdown",
          "content": "Before we start building, let's explore Grafana's interface to understand where everything is located."
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "nav[data-testid='navigation-mega-menu']",
          "requirements": ["navmenu-open"],
          "doIt": false,
          "tooltip": "The navigation menu is your control center for accessing all Grafana features. It organizes tools by function: Dashboards for visualizations, Explore for ad-hoc queries, Alerting for monitoring, and Administration for system management.",
          "content": "Explore the main navigation structure"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "main[data-testid='main-content']",
          "doIt": false,
          "tooltip": "The main content area is where you'll spend most of your time. It displays dashboards, configuration pages, query interfaces, and all the tools you need for effective observability.",
          "content": "This is where your monitoring work happens"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "header[data-testid='grafana-app-header']",
          "doIt": false,
          "tooltip": "The top header contains global controls available from any page: organization switcher, user preferences, help resources, and global search. These tools support your workflow regardless of where you are in Grafana.",
          "content": "Notice the global controls in the header"
        }
      ]
    },
    {
      "type": "section",
      "id": "setup-prometheus",
      "title": "Section 2: Configure Prometheus Data Source",
      "requirements": ["is-admin"],
      "objectives": ["has-datasource:type:prometheus"],
      "tooltip": "Creates Prometheus data source - skipped if already configured",
      "blocks": [
        {
          "type": "markdown",
          "content": "Now let's set up Prometheus as our metrics data source. This will provide the foundation for all our monitoring dashboards."
        },
        {
          "type": "interactive",
          "action": "navigate",
          "reftarget": "/connections/datasources",
          "requirements": ["navmenu-open"],
          "verify": "on-page:/connections",
          "content": "Navigate to data source management"
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "Add new data source",
          "requirements": ["exists-reftarget"],
          "content": "Click Add new data source"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "a[href='/connections/datasources/prometheus']",
          "requirements": ["exists-reftarget"],
          "tooltip": "Prometheus is a powerful monitoring system that collects time-series metrics from your applications and infrastructure. It's perfect for tracking performance indicators, resource usage, and application health.",
          "content": "Select Prometheus from the data source types"
        },
        {
          "type": "interactive",
          "action": "formfill",
          "reftarget": "input[id='basic-settings-name']",
          "targetvalue": "prometheus-main",
          "requirements": ["exists-reftarget"],
          "tooltip": "Descriptive names help identify data sources in large deployments",
          "content": "Set a descriptive name for the data source"
        },
        {
          "type": "interactive",
          "action": "formfill",
          "reftarget": "input[id='connection-url']",
          "targetvalue": "http://prometheus:9090",
          "requirements": ["exists-reftarget"],
          "tooltip": "The Prometheus URL tells Grafana where to find your metrics server. Port 9090 is the standard Prometheus port. In production, this might be https://prometheus.company.com or an internal service address.",
          "content": "Enter the Prometheus server URL"
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "Save & test",
          "requirements": ["exists-reftarget"],
          "verify": "has-datasource:prometheus-main",
          "content": "Save and test the connection"
        }
      ]
    },
    {
      "type": "section",
      "id": "create-monitoring-dashboard",
      "title": "Section 3: Create Monitoring Dashboard",
      "requirements": ["section-completed:setup-prometheus"],
      "objectives": ["has-dashboard-named:System Monitoring"],
      "tooltip": "Creates comprehensive monitoring dashboard with multiple panels",
      "blocks": [
        {
          "type": "markdown",
          "content": "With our data source configured, let's create a comprehensive monitoring dashboard with multiple visualization types."
        },
        {
          "type": "interactive",
          "action": "navigate",
          "reftarget": "/dashboard/new",
          "requirements": ["navmenu-open"],
          "verify": "on-page:/dashboard/new",
          "content": "Navigate to create a new dashboard"
        },
        {
          "type": "multistep",
          "requirements": ["on-page:/dashboard/new"],
          "tooltip": "Creates a stat panel showing system availability",
          "content": "Add visualization and select Prometheus data source",
          "steps": [
            {
              "action": "button",
              "reftarget": "Add visualization",
              "requirements": ["exists-reftarget"]
            },
            {
              "action": "button",
              "reftarget": "prometheus-main",
              "requirements": ["has-datasource:prometheus-main"]
            }
          ]
        },
        {
          "type": "interactive",
          "action": "formfill",
          "reftarget": "textarea[data-testid='query-editor']",
          "targetvalue": "up",
          "requirements": ["exists-reftarget"],
          "tooltip": "The up query shows how many monitoring targets are healthy. This is a fundamental availability metric that tells you if your monitoring infrastructure is working correctly.",
          "content": "Enter the availability query"
        },
        {
          "type": "multistep",
          "requirements": ["exists-reftarget"],
          "tooltip": "Changes to stat visualization for single-value display",
          "content": "Open visualization picker and select Stat",
          "steps": [
            {
              "action": "button",
              "reftarget": "button[data-testid='toggle-viz-picker']",
              "requirements": ["exists-reftarget"]
            },
            {
              "action": "highlight",
              "reftarget": "div[aria-label='Plugin visualization item Stat']",
              "requirements": ["exists-reftarget"]
            }
          ]
        },
        {
          "type": "interactive",
          "action": "formfill",
          "reftarget": "input[data-testid='Panel editor option pane field input Title']",
          "targetvalue": "Targets Up",
          "requirements": ["exists-reftarget"],
          "content": "Set descriptive panel title"
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "Apply",
          "requirements": ["exists-reftarget"],
          "content": "Apply the panel configuration"
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "Add panel",
          "requirements": ["exists-reftarget", "on-page:/dashboard"],
          "content": "Add a second panel for trend analysis"
        },
        {
          "type": "multistep",
          "requirements": ["on-page:/dashboard"],
          "tooltip": "Creates time series panel for CPU usage trends",
          "content": "Add visualization, select Prometheus, and enter CPU usage query",
          "steps": [
            {
              "action": "button",
              "reftarget": "Add visualization",
              "requirements": ["exists-reftarget"]
            },
            {
              "action": "button",
              "reftarget": "prometheus-main",
              "requirements": ["has-datasource:prometheus-main"]
            },
            {
              "action": "formfill",
              "reftarget": "textarea[data-testid='query-editor']",
              "targetvalue": "100 - (avg(rate(node_cpu_seconds_total{mode='idle'}[5m])) * 100)",
              "requirements": ["exists-reftarget"]
            }
          ]
        },
        {
          "type": "interactive",
          "action": "formfill",
          "reftarget": "input[data-testid='Panel editor option pane field input Title']",
          "targetvalue": "CPU Usage %",
          "requirements": ["exists-reftarget"],
          "tooltip": "Time series visualizations are perfect for showing how metrics change over time. This CPU usage percentage calculation helps you understand resource utilization patterns and plan capacity accordingly.",
          "content": "Set time series panel title"
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "Apply",
          "requirements": ["exists-reftarget"],
          "content": "Apply the time series panel"
        },
        {
          "type": "multistep",
          "requirements": ["on-page:/dashboard"],
          "tooltip": "Saves dashboard with descriptive title",
          "content": "Save dashboard with title 'System Monitoring'",
          "steps": [
            {
              "action": "button",
              "reftarget": "Save dashboard",
              "requirements": ["exists-reftarget"]
            },
            {
              "action": "formfill",
              "reftarget": "input[aria-label='Save dashboard title field']",
              "targetvalue": "System Monitoring",
              "requirements": ["exists-reftarget"]
            },
            {
              "action": "button",
              "reftarget": "Save",
              "requirements": ["exists-reftarget"]
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "id": "setup-alerting",
      "title": "Section 4: Configure Monitoring Alerts",
      "requirements": ["section-completed:create-monitoring-dashboard", "has-permission:alerting:write"],
      "tooltip": "Configures CPU usage alert - requires alerting permissions",
      "blocks": [
        {
          "type": "markdown",
          "content": "Now let's set up intelligent alerts to notify you when system issues occur, before your users notice them."
        },
        {
          "type": "interactive",
          "action": "navigate",
          "reftarget": "/alerting/new",
          "requirements": ["navmenu-open"],
          "verify": "on-page:/alerting/new",
          "content": "Navigate to create new alert rule"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='alert-rule-form']",
          "requirements": ["exists-reftarget"],
          "doIt": false,
          "tooltip": "The alert rule form lets you define monitoring conditions that trigger notifications. You'll specify query conditions, evaluation frequency, threshold values, and notification channels to create proactive monitoring that keeps your systems healthy.",
          "content": "Examine the alert rule configuration interface"
        },
        {
          "type": "interactive",
          "action": "formfill",
          "reftarget": "input[data-testid='alert-rule-name']",
          "targetvalue": "High CPU Usage Alert",
          "requirements": ["exists-reftarget"],
          "content": "Name your alert rule descriptively"
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "prometheus-main",
          "requirements": ["has-datasource:prometheus-main", "exists-reftarget"],
          "content": "Select Prometheus as the alert data source"
        },
        {
          "type": "interactive",
          "action": "formfill",
          "reftarget": "textarea[data-testid='alert-query-editor']",
          "targetvalue": "100 - (avg(rate(node_cpu_seconds_total{mode='idle'}[5m])) * 100) > 80",
          "requirements": ["exists-reftarget"],
          "tooltip": "This alert query triggers when CPU usage exceeds 80%. The rate() function calculates per-second CPU usage, and the condition > 80 defines our threshold for what constitutes 'high' CPU usage.",
          "content": "Enter CPU usage alert condition"
        },
        {
          "type": "interactive",
          "action": "formfill",
          "reftarget": "input[data-testid='evaluation-interval']",
          "targetvalue": "1m",
          "requirements": ["exists-reftarget"],
          "tooltip": "How often Grafana checks this condition",
          "content": "Set evaluation interval to 1 minute"
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "Save rule",
          "requirements": ["exists-reftarget"],
          "content": "Save the alert rule"
        }
      ]
    },
    {
      "type": "section",
      "id": "advanced-features",
      "title": "Section 5: Explore Advanced Features",
      "requirements": ["section-completed:setup-alerting"],
      "blocks": [
        {
          "type": "markdown",
          "content": "Let's explore some of Grafana's advanced features that can enhance your monitoring experience."
        },
        {
          "type": "interactive",
          "action": "navigate",
          "reftarget": "/explore",
          "requirements": ["navmenu-open", "has-feature:queryLibrary", "min-version:8.5.0"],
          "skippable": true,
          "tooltip": "Query library requires specific Grafana version and feature toggle",
          "verify": "on-page:/explore",
          "content": "Explore the query library feature (skip if not available)"
        },
        {
          "type": "interactive",
          "action": "navigate",
          "reftarget": "/explore",
          "requirements": ["navmenu-open"],
          "verify": "on-page:/explore",
          "content": "Navigate to Explore for ad-hoc queries"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='query-editor-container']",
          "requirements": ["on-page:/explore", "exists-reftarget"],
          "doIt": false,
          "tooltip": "Explore is your data investigation playground. Write queries, test hypotheses, and analyze metrics without creating permanent dashboards. It's perfect for incident troubleshooting and data discovery.",
          "content": "Learn about the Explore interface"
        },
        {
          "type": "interactive",
          "action": "navigate",
          "reftarget": "/admin/plugins",
          "requirements": ["is-admin", "navmenu-open"],
          "skippable": true,
          "tooltip": "Plugin management requires admin privileges",
          "verify": "on-page:/admin/plugins",
          "content": "Access plugin management (admin only)"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='plugin-info']",
          "requirements": ["has-role:viewer"],
          "doIt": false,
          "tooltip": "Plugins extend Grafana's capabilities with new data sources, panel types, and applications. While you need admin privileges to install plugins, you can use any plugins that are already installed in your Grafana instance.",
          "content": "Learn about Grafana's plugin ecosystem"
        }
      ]
    },
    {
      "type": "section",
      "id": "verify-setup",
      "title": "Section 6: Verify Your Setup",
      "requirements": ["section-completed:create-monitoring-dashboard"],
      "blocks": [
        {
          "type": "markdown",
          "content": "Let's verify everything is working correctly and explore your new monitoring capabilities."
        },
        {
          "type": "interactive",
          "action": "navigate",
          "reftarget": "/dashboards",
          "requirements": ["navmenu-open"],
          "verify": "on-page:/dashboards",
          "content": "Return to your dashboards list"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "a[title*='System Monitoring']",
          "requirements": ["has-dashboard-named:System Monitoring", "exists-reftarget"],
          "doIt": false,
          "tooltip": "Your System Monitoring dashboard now appears in the dashboard list. The star icon lets you favorite it for quick access, and the menu button provides options for sharing, exporting, or managing permissions.",
          "content": "Find your newly created monitoring dashboard"
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "System Monitoring",
          "requirements": ["has-dashboard-named:System Monitoring", "exists-reftarget"],
          "verify": "on-page:/d/",
          "content": "Open your System Monitoring dashboard"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='panel-container']:first-of-type",
          "requirements": ["exists-reftarget"],
          "doIt": false,
          "tooltip": "Your Targets Up panel shows real-time availability data. The large number indicates how many monitoring targets are healthy. This gives you an instant overview of your infrastructure health.",
          "content": "Review your availability monitoring panel"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "button[data-testid='time-range-picker']",
          "requirements": ["exists-reftarget"],
          "doIt": false,
          "tooltip": "The time range picker controls what time period your dashboard displays. Try Last 1 hour for recent data, Last 24 hours for daily patterns, or Last 7 days for weekly trend analysis.",
          "content": "Notice the time range controls"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "button[data-testid='refresh-button']",
          "requirements": ["exists-reftarget"],
          "doIt": false,
          "tooltip": "The refresh button updates your dashboard with the latest data. You can also enable auto-refresh to keep your monitoring views current without manual intervention - perfect for live monitoring scenarios.",
          "content": "Learn about dashboard refresh options"
        }
      ]
    },
    {
      "type": "markdown",
      "content": "## ðŸŽ‰ Congratulations!\n\nOutstanding work! You've successfully completed the advanced Grafana monitoring setup guide. You now have:\n\n- âœ… **Comprehensive Interface Knowledge** - You understand Grafana's layout and navigation\n- âœ… **Prometheus Data Source** - Connected and tested for reliable metrics collection\n- âœ… **System Monitoring Dashboard** - Multiple panel types showing different aspects of system health\n- âœ… **Intelligent Alerting** - Proactive monitoring that notifies you of issues\n- âœ… **Advanced Feature Awareness** - Knowledge of Explore, plugins, and additional capabilities\n\n### What You Can Do Next\n\n- **Expand Your Dashboard** - Add more panels for memory, disk, and network monitoring\n- **Configure More Alerts** - Set up alerts for different metrics and thresholds\n- **Explore Data Sources** - Connect Loki for logs, Tempo for traces, or other systems\n- **Team Collaboration** - Share dashboards with your team and set up notification channels\n- **Advanced Queries** - Learn more complex PromQL for sophisticated monitoring\n\n**Next Recommended Guide:** [Loki + Grafana 101](bundled:loki-grafana-101) to add log monitoring to your observability stack."
    }
  ]
}
```

## Key Features Demonstrated

### 1. Show-Only Educational Mode
- Interface orientation without state changes
- Rich interactive comments with formatting
- Progressive disclosure of concepts

### 2. Requirements and Objectives System
- Auto-completion when objectives already met
- Permission-aware workflows
- Graceful degradation for missing requirements

### 3. Multi-Step Atomic Actions
- Complex UI workflows as single user actions
- Just-in-time requirements checking
- Error handling with specific failure points

### 4. Section-Based Organization
- Logical grouping of related steps
- Progress persistence across browser sessions
- Sequential dependencies between sections

### 5. Advanced Error Handling
- Skippable steps for permission issues
- Alternative workflows for different user types
- Helpful error messages with context

### 6. Performance Optimization
- Efficient selector usage
- Grouped requirement checks
- Lazy evaluation of complex conditions

### 7. Accessibility Features
- Screen reader friendly hints
- Keyboard navigation support
- ARIA attribute integration

## Guide Quality Characteristics

### Educational Value
- **Progressive Learning**: Concepts introduced before practice
- **Contextual Explanations**: Rich comments explain why things matter
- **Multiple Learning Modes**: Observation, demonstration, and hands-on practice
- **Real-World Relevance**: Practical skills applicable to actual monitoring

### Technical Excellence
- **Robust Error Handling**: Graceful failure and recovery options
- **Cross-Version Compatibility**: Works across different Grafana versions
- **Performance Conscious**: Efficient selectors and requirement checking
- **Accessibility Compliant**: Works with assistive technologies

### User Experience
- **Clear Progress Indicators**: Users always know where they are
- **Resumable Workflows**: Can continue after interruptions
- **Helpful Guidance**: Hints and comments provide context
- **Flexible Paths**: Alternatives for different user capabilities

This example demonstrates the full power of the interactive guide system and serves as a comprehensive template for creating high-quality, educational Grafana guides.

---

## Additional Block Type Examples

### Conditional Block Example

Use conditional blocks to show different content based on environment or user state:

```json
{
  "type": "conditional",
  "conditions": ["has-datasource:prometheus"],
  "description": "Show different onboarding based on Prometheus availability",
  "whenTrue": [
    {
      "type": "markdown",
      "content": "Great! You already have Prometheus configured. Let's explore some advanced queries."
    },
    {
      "type": "interactive",
      "action": "navigate",
      "reftarget": "/explore",
      "content": "Open Explore to run queries"
    }
  ],
  "whenFalse": [
    {
      "type": "markdown",
      "content": "You'll need to set up Prometheus first. Let's do that now."
    },
    {
      "type": "interactive",
      "action": "navigate",
      "reftarget": "/connections/datasources/new",
      "content": "Navigate to add a data source"
    }
  ]
}
```

### Quiz Block Example

Use quiz blocks to verify user understanding:

```json
{
  "type": "quiz",
  "question": "Which Prometheus query shows target health status?",
  "completionMode": "correct-only",
  "choices": [
    { "id": "a", "text": "`up`", "correct": true },
    { "id": "b", "text": "`rate(http_requests_total[5m])`", "hint": "This calculates request rate, not health." },
    { "id": "c", "text": "`node_cpu_seconds_total`", "hint": "This is a raw CPU counter metric." },
    { "id": "d", "text": "`process_start_time_seconds`", "hint": "This shows when processes started." }
  ]
}
```

### Input Block Example

Use input blocks to collect user data that can be reused:

```json
{
  "type": "input",
  "prompt": "What would you like to name your dashboard?",
  "inputType": "text",
  "variableName": "dashboardName",
  "placeholder": "e.g., System Monitoring",
  "required": true,
  "pattern": "^[a-zA-Z][a-zA-Z0-9 -]*$",
  "validationMessage": "Name must start with a letter and contain only letters, numbers, spaces, and hyphens"
}
```

Then reference the variable in subsequent blocks:

```json
{
  "type": "markdown",
  "content": "Your dashboard **{{dashboardName}}** is ready to configure!"
}
```

### Guided Block Example

Use guided blocks when users need to perform actions manually:

```json
{
  "type": "guided",
  "content": "Practice creating a panel by following these steps.",
  "stepTimeout": 45000,
  "completeEarly": true,
  "skippable": true,
  "steps": [
    {
      "action": "button",
      "reftarget": "Add visualization",
      "tooltip": "Click the **Add visualization** button to start"
    },
    {
      "action": "hover",
      "reftarget": "div[data-testid='visualization-suggestions']",
      "tooltip": "Hover over the suggestions to see visualization options"
    },
    {
      "action": "highlight",
      "reftarget": "div[aria-label='Plugin visualization item Time series']",
      "tooltip": "Select **Time series** for this panel"
    }
  ]
}
```

### Image Block Example

```json
{
  "type": "image",
  "src": "https://grafana.com/static/img/grafana/dashboard-example.png",
  "alt": "Example Grafana dashboard with multiple panels",
  "width": 600
}
```

### Video Block Example

```json
{
  "type": "video",
  "src": "https://www.youtube.com/embed/dQw4w9WgXcQ",
  "provider": "youtube",
  "title": "Grafana Dashboard Tutorial",
  "start": 10,
  "end": 120
}
```

### Noop Action Example

```json
{
  "type": "interactive",
  "action": "noop",
  "content": "Now that you've configured your data source, let's move on to creating a dashboard."
}
```

### Noop with Highlight

```json
{
  "type": "interactive",
  "action": "noop",
  "reftarget": "div[data-testid='alert-banner']",
  "content": "Notice the success banner confirming your data source is connected.",
  "tooltip": "This confirms the connection test passed."
}
```

### Assistant Block Example

````json
{
  "type": "assistant",
  "assistantId": "prom-queries",
  "assistantType": "query",
  "blocks": [
    {
      "type": "markdown",
      "content": "Here's a sample PromQL query:\n\n```promql\nrate(http_requests_total[5m])\n```"
    },
    {
      "type": "interactive",
      "action": "formfill",
      "reftarget": "textarea[data-testid='query-editor']",
      "targetvalue": "rate(http_requests_total[5m])",
      "content": "Enter this query in the editor."
    }
  ]
}
````
