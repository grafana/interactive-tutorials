{
  "id": "play-traitors-uk-tour",
  "title": "Explore SQL Expressions with The Traitors UK Dashboard",
  "blocks": [
    {
      "type": "markdown",
      "content": "## Introduction\n\noverall intro"
    },
    {
      "type": "markdown",
      "content": "## The Main Game\n\nThe main part of the game plays out over the first 11 episodes.  Each episode, the contestants tackle a physical challenge that may also involve solving puzzles.  Success in these challenges earns money towards the overall prize pot.\n\nAt the round table, contestants discuss theories about who the traitors might be and then vote for the person they think is most likely a traitor.  That person is then banished from the game immediately, revealing their status on the way out.\n\nOvernight, the traitors meet to determine which of the faithful they will murder.  That person leaves the game overnight and the remaining contestants find out who they are when they fail to show up for breakfast in the morning.\n\nContestants may earn a shield during the day's challenge.  This protects them from murder by the traitors.  Sometimes the traitors know who, if anyone, has a shield.  Other times they don't."
    },
    {
      "type": "section",
      "id": "guide-section-68976",
      "title": "The Main Game",
      "blocks": [
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header '] div:nth-match(29)",
          "content": "We'll begin our tour with the Main Game section of the dashboard.",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header Active Traitors']",
          "content": "traitors remaining in the game",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header Most Votes Received (Grey = inactive player)']",
          "content": "most votes received",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header Player Status by Episode (Fiona was hidden Traitor eps 1-3)']",
          "content": "player status by episode",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='data-testid dashboard-row-wrapper-for-Adam: Overview']",
          "content": "per player section",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false
        }
      ]
    },
    {
      "type": "markdown",
      "content": "## The End Game\n\nThe end game takes place in episode 12, after a final round table.  The remaining contestants take part in a series of votes.  Each contestant can choose to end the game, or banish someone else because they think one or more traitors remain.\n\nIf one or more contestant votes to banish, each contestant names the person they want to banish and the one with the most votes leaves immediately without declaring whether they were a faithful or a traitor.  If everyone agrees to end the game, it ends immediately with the prize going to the faithfuls if no traitors remain or the traitors if one or more of them remain. The game also ends should only two players remain.\n\nThe end game was modeled using SQL expressions and a different Google Sheet."
    },
    {
      "type": "section",
      "id": "guide-section-29286",
      "title": "The End Game",
      "blocks": [
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header '] div:nth-match(19)",
          "content": "Let's take a look at the End Game section of the dashboard.",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header End Game Round 2']",
          "content": "Here we see the ultimate outcome of the game, with Jack banished in the final vote.  Rachel and Stephen won, having played as traitors since the beginning.",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header Winners!']",
          "content": "We used a dynamic image panel to show the winners images as a carousel.",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header Prize Awarded (max £120k)']",
          "content": "This gauge shows how much of the overall £120,000 prize fund the winners took home between them.  We didn't model the prize fund in the Google Sheet, it's static data in the panel here.",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false
        }
      ]
    },
    {
      "type": "markdown",
      "content": "## SQL Expressions in Grafana\n\nTODO\n\n"
    },
    {
      "type": "section",
      "id": "guide-section-62158",
      "title": "Explore a Simple SQL Expression",
      "blocks": [
        {
          "type": "markdown",
          "content": "intro text for how it works"
        },
        {
          "type": "guided",
          "content": "First, open the Latest Episode panel for editing.",
          "steps": [
            {
              "action": "highlight",
              "reftarget": "section[data-testid='data-testid Panel header Latest Episode'] svg[data-testid='icon-ellipsis-v']"
            },
            {
              "action": "highlight",
              "reftarget": "a[data-testid='data-testid Panel menu item Edit']"
            }
          ],
          "completeEarly": true
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid=\"query-editor-row\"] > :first-child",
          "content": "look at the google sheets query configuration",
          "doIt": false
        },
        {
          "type": "guided",
          "content": "toggle table view and unhide the results from the google sheets query",
          "steps": [
            {
              "action": "highlight",
              "reftarget": "label[aria-label='Table view']"
            },
            {
              "action": "highlight",
              "reftarget": "button[data-testid='data-testid Hide response'] svg:nth-match(1)"
            }
          ]
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='data-testid panel content']",
          "content": "now you can see the results of the google sheets query",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='query-editor-row'] div:nth-match(58)",
          "content": "look at the sql expression",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        },
        {
          "type": "guided",
          "content": "hide the results of the original google sheet query",
          "steps": [
            {
              "action": "highlight",
              "reftarget": "button[data-testid='data-testid Hide response'] svg:nth-match(1)"
            }
          ]
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "section[data-testid='data-testid Panel header ']",
          "content": "here's the result of the sql expression, which becomes the value used in the stat panel",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        },
        {
          "type": "guided",
          "content": "now click back to dashboard to exit the panel editor.",
          "steps": [
            {
              "action": "highlight",
              "reftarget": "button[data-testid='data-testid Back to dashboard button']"
            }
          ],
          "completeEarly": true
        }
      ]
    },
    {
      "type": "section",
      "id": "guide-section-93894",
      "title": "Discover a More Complex SQL Expression",
      "blocks": [
        {
          "type": "markdown",
          "content": "intro text"
        },
        {
          "type": "guided",
          "content": "open the most votes received panel and view the data returned by the sql expression",
          "steps": [
            {
              "action": "highlight",
              "reftarget": "section[data-testid='data-testid Panel header Most Votes Received (Grey = inactive player)'] svg[data-testid='icon-ellipsis-v']"
            },
            {
              "action": "highlight",
              "reftarget": "a[data-testid='data-testid Panel menu item Edit']"
            },
            {
              "action": "highlight",
              "reftarget": "label[aria-label='Table view']"
            }
          ]
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='query-editor-row'] div:nth-match(58)",
          "content": "take a look at the sql expression",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        },
        {
          "type": "guided",
          "content": "return to the dashboard view",
          "steps": [
            {
              "action": "highlight",
              "reftarget": "button[data-testid='data-testid Back to dashboard button']"
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "id": "guide-section-43467",
      "title": "SQL Expressions with Variables",
      "blocks": [
        {
          "type": "markdown",
          "content": "intro text and links to what variables are etc"
        },
        {
          "type": "guided",
          "content": "edit Adam's \"Status\" panell",
          "steps": [
            {
              "action": "highlight",
              "reftarget": "button[data-testid='data-testid Panel menu Status'] svg:nth-match(1)"
            },
            {
              "action": "highlight",
              "reftarget": "a[data-testid='data-testid Panel menu item Edit']"
            }
          ]
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "div[data-testid='query-editor-row'] div:nth-match(58)",
          "content": "study the sql expression",
          "requirements": [
            "exists-reftarget"
          ],
          "doIt": false,
          "lazyRender": true
        }
      ]
    },
    {
      "type": "markdown",
      "content": "## Next Steps and Additional Resources\n\n\n\nCheck  out these additional resources to learn more about the topics covered in this guide:\n\n- [SQL expressions documentation](https://grafana.com/docs/grafana/latest/visualizations/panels-visualizations/query-transform-data/sql-expressions/).\n- [Google Sheets data source documentation](https://grafana.com/grafana/plugins/grafana-googlesheets-datasource/).\n- [The Traitors USA dashboard](https://play.grafana.org/d/adfhkge/usa-traitors-season-4) (a similar dashboard for the US version of the show).\n\n"
    }
  ]
}