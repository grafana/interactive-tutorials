{
  "id": "visualization-traces-add-traces-panel",
  "title": "Add Traces panel to dashboard",
  "blocks": [
    {
      "type": "markdown",
      "content": "The traces panel visualizes response from the Tempo data source. The traces visualization shows a trace span, icons for associated logs, and opens a detailed view when you select a span.\n\nTo add a Traces panel to a dashboard, complete the following steps:"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "[data-testid='data-testid CanvasGridAddActions add-panel']",
      "content": "While viewing a dashboard in edit mode, click **Add panel**.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "markdown",
      "content": "On the new panel, enter a title and description, and click **Configure**."
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "input[data-testid='data-testid Select a data source']",
      "content": "Click the **Data source** drop-down and select the same traces data source you selected for the traces table.",
      "requirements": ["exists-reftarget"],
      "doIt": false
    },
    {
      "type": "multistep",
      "content": "From the visualization picker on the right, click **All visualizations** and select **Traces**.",
      "requirements": ["exists-reftarget"],
      "steps": [
        {
          "action": "highlight",
          "reftarget": "[data-testid='data-testid Tab All visualizations']"
        },
        {
          "action": "highlight",
          "reftarget": "[data-testid='data-testid Plugin visualization item Traces']"
        }
      ]
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "label[for*='option-traceql']",
      "content": "In the query editor, click the **TraceQL** query type tab.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "markdown",
      "content": "Enter `${traceId}` in the TraceQL query field to create a dashboard variable.\n\nThis variable is used as the template query."
    },
    {
      "type": "markdown",
      "content": "Under the **Panel options**, enter a **Title** for your trace panel."
    },
    {
      "type": "interactive",
      "action": "button",
      "reftarget": "Save",
      "content": "Save the changes to the dashboard.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "interactive",
      "action": "button",
      "reftarget": "Back to dashboard",
      "content": "Click **Back to dashboard**.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "markdown",
      "content": "In the next milestone, you'll arrange the order of the panels in the dashboard and test it."
    }
  ]
}
