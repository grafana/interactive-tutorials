{
  "id": "visualization-traces-add-traces-table",
  "title": "Write TraceQL query",
  "blocks": [
    {
      "type": "markdown",
      "content": "TraceQL is a query language designed for searching and filtering traces within Grafana Cloud. It enables you to write expressions that specify criteria to locate specific traces. A basic TraceQL query consists of key-value pairs that filter traces, ensuring only those matching the defined criteria are included in the results.\n\nIn this milestone, you'll write a TraceQL query using the Search query builder that visualizes a list of traces in a table.\n\nTo write a TraceQL query, complete the following steps:"
    },
    {
      "type": "section",
      "blocks": [
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "label[for*='traceqlSearch']",
          "content": "In the Query Builder, click the **Search** tab located to the right of **Query type**.\n\nThe traces table populates with a list of traces and a list of search criteria appears.",
          "requirements": ["exists-reftarget"]
        },
        {
          "type": "markdown",
          "content": "For any of the search criteria, select an operator and a value.\n\nFor example, when:\n- Service Name = `app-2048`\n- Span Name = `POST /`\n- Status = `Error`\n\nThe resulting TraceQL query is:\n`{resource.service.name=\"app-2048\" && name=\"POST /\" && status=error}`"
        },
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "[data-testid='data-testid RefreshPicker run button']",
          "content": "Click **Refresh** to update the list of traces in the table.",
          "requirements": ["exists-reftarget"]
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "Save",
          "content": "Click **Save** located in the upper-right corner of the page.",
          "requirements": ["exists-reftarget"]
        },
        {
          "type": "markdown",
          "content": "Enter a title and description for your dashboard, and select a folder, if applicable."
        },
        {
          "type": "markdown",
          "content": "Click **Save** to save the dashboard."
        },
        {
          "type": "interactive",
          "action": "button",
          "reftarget": "Back to dashboard",
          "content": "Click **Back to dashboard**.",
          "requirements": ["exists-reftarget"]
        },
        {
          "type": "markdown",
          "content": "**Did you know?** If you're using Grafana Enterprise or Grafana Cloud, you can save queries for reuse across panels and dashboards. Click **Save query** to save your current query, or use the **Saved queries** drop-down menu to reuse a previously saved query."
        }
      ]
    },
    {
      "type": "markdown",
      "content": "In the next milestone you'll add a dashboard variable."
    },
    {
      "type": "markdown",
      "content": "**More to explore (optional)**\n\nAt this point in your journey, you can explore the following paths:\n\n- [TraceQL](/docs/tempo/latest/traceql/#construct-a-traceql-query)\n- [Investigate traces using Search query builder](/docs/grafana-cloud/connect-externally-hosted/data-sources/tempo/query-editor/traceql-search/)\n- [Query tracing data](/docs/grafana-cloud/send-data/traces/traces-query-editor/)"
    }
  ]
}
