{
  "id": "visualization-traces-add-traces-table",
  "title": "Write TraceQL query",
  "blocks": [
    {
      "type": "markdown",
      "content": "TraceQL is a query language designed for searching and filtering traces within Grafana Cloud. It enables you to write expressions that specify criteria to locate specific traces.\n\nIn this milestone, you'll write a TraceQL query using the Search query builder that visualizes a list of traces in a table.\n\nTo write a TraceQL query, perform the following steps:"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "label[for*='traceqlSearch']",
      "content": "In the Query Builder, click the **Search** tab located to the right of **Query type**.\n\nThe traces table populates with a list of traces and a list of search criteria appears.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "markdown",
      "content": "For any of the search criteria, select an operator and a value.\n\nFor example, when:\n- Service Name = `app-2048`\n- Span Name = `POST /`\n- Status = `Error`\n\nThe resulting TraceQL query is:\n`{resource.service.name=\"app-2048\" && name=\"POST /\" && status=error}`"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "[data-testid='data-testid RefreshPicker run button']",
      "content": "Click **Refresh** to update the list of traces in the table.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "interactive",
      "action": "formfill",
      "reftarget": "input[data-testid='data-testid Panel editor option pane field input Title']",
      "targetvalue": "Traces Table",
      "content": "On the right of the page, under **Panel options**, enter a panel **Title**.\n\nThe title appears at the top of the panel.",
      "requirements": ["exists-reftarget"],
      "doIt": false
    },
    {
      "type": "interactive",
      "action": "button",
      "reftarget": "Save",
      "content": "Click **Save** located in the upper-right corner of the page.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "markdown",
      "content": "Enter a title and description for your dashboard, and select a folder, if applicable."
    },
    {
      "type": "markdown",
      "content": "Click **Save** to save the dashboard."
    },
    {
      "type": "interactive",
      "action": "button",
      "reftarget": "Back to dashboard",
      "content": "Click **Back to dashboard**.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "markdown",
      "content": "In the next milestone you'll add a dashboard variable."
    }
  ]
}
