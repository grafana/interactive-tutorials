{
  "schemaVersion": "1.0.0",
  "id": "mongodb-integration-configure-alloy",
  "title": "Configure Grafana Alloy",
  "blocks": [
    {
      "type": "markdown",
      "content": "Now that Alloy is installed, you need to configure it to collect MongoDB metrics. The integration page provides a ready-to-use configuration snippet.\n\nThis configuration includes:\n\n- **MongoDB exporter component** - Connects to MongoDB and collects metrics\n- **Connection string** - Your MongoDB connection details (you'll customize this)\n- **Metrics endpoint** - Where Alloy sends collected metrics\n\nLet's get the configuration snippet."
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "div[data-testid='alloy-advanced-integrations-block']+button",
      "content": "At the bottom of the snippet, click **Copy to clipboard**."
    },
    {
      "type": "markdown",
      "content": "The configuration snippet uses the `prometheus.exporter.mongodb` component to collect metrics from your MongoDB instance.\n\n**Next steps:**\n\n1. Open your Alloy configuration file:\n   - **Linux**: `/etc/alloy/config.alloy`\n   - **macOS**: `/opt/homebrew/etc/alloy/config.alloy`\n   - **Docker**: Mount path or `docker exec` into container\n   - **Kubernetes**: ConfigMap or edit the deployment\n\n2. Paste the configuration snippet at the end of the file\n\n3. **Important**: You'll customize the MongoDB connection string in the next step\n\n4. Restart Alloy to apply changes:\n   - **Linux**: `sudo systemctl restart alloy`\n   - **macOS**: `brew services restart alloy`\n   - **Docker**: `docker restart <container-name>`\n   - **Kubernetes**: `kubectl rollout restart deployment/alloy`"
    }
  ]
}
