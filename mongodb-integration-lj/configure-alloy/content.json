{
  "schemaVersion": "1.0.0",
  "id": "mongodb-integration-configure-alloy",
  "title": "Configure Grafana Alloy to use the MongoDB integration",
  "blocks": [
    {
      "type": "markdown",
      "content": "In this milestone, you configure the MongoDB integration in Grafana Alloy. This configuration uses the built-in MongoDB exporter to collect database metrics and forward them to Grafana Cloud.\n\nThe MongoDB exporter component connects to your MongoDB instance and exposes metrics in Prometheus format for collection by Grafana Alloy.\n\nThe configuration includes three main components:\n- **MongoDB exporter:** Connects to MongoDB and collects metrics\n- **Discovery relabel:** Adds custom labels for organization and filtering\n- **Prometheus scrape:** Collects metrics and forwards them to Grafana Cloud"
    },
    {
      "type": "markdown",
      "content": "To configure the MongoDB integration, complete the following steps:"
    },
    {
      "type": "markdown",
      "content": "1. On the MongoDB integration page in Grafana Cloud, scroll to the **Set up Grafana Alloy to use the MongoDB integration** section."
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "div[data-testid='alloy-advanced-integrations-block']+button",
      "content": "2. At the bottom of the snippet, click **Copy to clipboard**.",
      "doIt": false
    },
    {
      "type": "markdown",
      "content": "3. Create or open your Grafana Alloy configuration file.\n\n   The default configuration file location is `/etc/alloy/config.alloy`."
    },
    {
      "type": "markdown",
      "content": "4. Paste the integration snippet into the configuration file.\n\nIn your next milestone, you'll prepare the specific MongoDB connection configuration."
    },
    {
      "type": "markdown",
      "content": "## More to explore (optional)\n\nAt this point in your journey, you can explore the following paths:\n\n- [Configure Grafana Alloy](/docs/alloy/latest/configure)\n- [Logs and relabeling basics in Grafana Alloy (tutorial)](/docs/alloy/latest/tutorials/logs-and-relabeling-basics)\n- [MongoDB exporter configuration reference](/docs/alloy/latest/reference/components/prometheus/prometheus.exporter.mongodb/)"
    }
  ]
}
