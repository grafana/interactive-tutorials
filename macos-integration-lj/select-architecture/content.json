{
  "id": "macos-integration-select-architecture",
  "title": "Select macOS platform architecture",
  "blocks": [
    {
      "type": "markdown",
      "content": "Your first step on this journey is to determine your Mac's architecture, so that the correct Alloy package can be installed.\n\nTo select the architecture, complete the following steps:"
    },
    {
      "type": "multistep",
      "content": "Click **Connections > Add new connection** in the left-side menu.",
      "steps": [
        {
          "action": "highlight",
          "reftarget": "button[aria-label='Expand section: Connections']"
        },
        {
          "action": "highlight",
          "reftarget": "a[data-testid='data-testid Nav menu item'][href='/connections/add-new-connection']"
        }
      ],
      "requirements": ["navmenu-open"]
    },
    {
      "type": "interactive",
      "action": "formfill",
      "reftarget": "input[data-testid='search-input-input']",
      "content": "Filter the connections by typing `macOS` in the search.",
      "targetvalue": "macOS",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "a[href='/connections/add-new-connection/macos-node']",
      "content": "Click the **macOS** tile.",
      "requirements": ["exists-reftarget"]
    },
    {
      "type": "markdown",
      "content": "Use the following table to determine which architecture to select:\n\n| Architecture | Select |\n| --- | --- |\n| Mac with Apple M series processor | `Arm64` |\n| Mac with Intel processor | `Amd64` |"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "div[data-testid='collector-arch-selection'] input",
      "content": "Select the **architecture** that matches your Mac.",
      "requirements": ["exists-reftarget"],
      "doIt": false
    },
    {
      "type": "markdown",
      "content": "If you are unsure of your Mac's architecture, open Terminal and run `uname -m`. If it returns `x86_64`, you have an Intel Mac: select **Amd64**. If it returns `arm64`, select **Arm64**.\n\n**Did you know?** Grafana Cloud uses the values you select to generate the commands you use to install Grafana Alloy on your machine."
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "div[data-testid='collector-installation-method'] input",
      "content": "Select the **Homebrew** installation method.",
      "requirements": ["exists-reftarget"],
      "doIt": false
    }
  ]
}
