{
  "id": "macos-integration-configure-alloy",
  "title": "Configure Grafana Alloy",
  "blocks": [
    {
      "type": "markdown",
      "content": "After you've installed Grafana Alloy, the next step is to configure it for the macOS integration. This configuration process requires you to copy a code snippet from Grafana Cloud and add it to the Alloy configuration file.\n\n**Did you know?** By default, the integration only collects the metrics and logs necessary to populate the macOS dashboards and alerts. Although you have the option to configure Alloy to collect all available metrics and logs, we recommend starting with the default configuration.\n\nTo configure Alloy to use the macOS integration:"
    },
    {
      "type": "markdown",
      "content": "In Grafana Cloud, under the **Make configuration selections** section, click **Make optional selections** and ensure **Simple set-up** is checked."
    },
    {
      "type": "markdown",
      "content": "On your macOS machine, run the following command to open the Alloy configuration file:\n\n```\nnano $(brew --prefix)/etc/alloy/config.alloy\n```"
    },
    {
      "type": "interactive",
      "action": "highlight",
      "reftarget": "div[data-testid='alloy-simple-block']+button",
      "requirements": ["exists-reftarget"],
      "content": "Back in Grafana Cloud, scroll down to the **Prepare your configuration file** section and click **Copy to clipboard**."
    },
    {
      "type": "markdown",
      "content": "On your macOS machine, scroll to the end of the configuration file and paste the configuration snippets you copied from Grafana Cloud."
    },
    {
      "type": "markdown",
      "content": "Press `Ctrl+O` to write the changes to the file, then press **Enter** to save. Press `Ctrl+X` to exit the editor.\n\nIn the next step of your journey, you'll restart Alloy and test the connection."
    }
  ]
}
