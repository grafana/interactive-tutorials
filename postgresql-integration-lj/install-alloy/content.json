{
  "schemaVersion": "1.0.0",
  "id": "postgresql-integration-install-alloy",
  "title": "Install Grafana Alloy",
  "blocks": [
    {
      "type": "markdown",
      "content": "In this milestone, you install Grafana Alloy on your selected platform. Grafana Alloy collects PostgreSQL metrics and forwards them to Grafana Cloud for monitoring and visualization.\n\nBefore installing Grafana Alloy, you need to obtain your Grafana Cloud configuration details to establish secure communication between Alloy and your Grafana Cloud stack."
    },
    {
      "type": "section",
      "blocks": [
        {
          "type": "interactive",
          "action": "highlight",
          "reftarget": "[data-testid='agent-config-button']",
          "content": "In the **Install Alloy** section, click **Run Grafana Alloy**."
        },
        {
          "type": "markdown",
          "content": "**Create or select a token:**\n\n- **Create new token**: Click **Create new token**, enter a meaningful token name (e.g., `prodUS`), then click **Create token**.\n- **Use existing token**: Click **Use an existing token** and enter a token you have created in the past.\n\n**Tip:** You don't need to copy the token. The token is added to the install Grafana Alloy script that you copy in the next step."
        },
        {
          "type": "markdown",
          "content": "Verify that the **Enable Remote Configuration** toggle is set to on."
        },
        {
          "type": "markdown",
          "content": "In the **Install and run Grafana Alloy** section, click **Copy to Clipboard**."
        },
        {
          "type": "markdown",
          "content": "Log into the machine where you are installing Grafana Alloy, open the Terminal, and paste the contents of the clipboard. Press **Enter** to install Grafana Alloy.\n\nWhen the installation is complete, you'll see `Alloy is now running!`"
        },
        {
          "type": "markdown",
          "content": "To verify that Grafana Alloy is installed correctly, click **Test Alloy connection**.\n\nIf Grafana Alloy is installed correctly, you'll see `Awesome! Grafana Alloy is good to go`."
        },
        {
          "type": "markdown",
          "content": "If Alloy is successfully installed, click **Proceed to install integration**."
        }
      ]
    },
    {
      "type": "markdown",
      "content": "In your next milestone, you'll prepare the PostgreSQL database configuration."
    }
  ]
}
