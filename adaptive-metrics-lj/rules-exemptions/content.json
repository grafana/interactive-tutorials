{
    "id": "adaptive-metrics-rules-exemptions",
    "title": "Create rules and exemptions",
    "blocks": [{
            "type": "markdown",
            "content": "# Create rules and exemptions\n\nWhen automated suggestions aren't a perfect fit or you want to be more proactive, you can move from accepting recommendations to defining your own logic."
        },
        {
            "type": "multistep",
            "content": "Navigate to **Adaptive Metrics** > **Rules**.",
            "requirements": ["navmenu-open"],
            "steps": [{
                    "action": "highlight",
                    "reftarget": "a[data-testid='data-testid Nav menu item'][href='/a/grafana-adaptive-metrics-app/overview']",
                    "tooltip": "Click Adaptive Metrics"
                },
                {
                    "action": "highlight",
                    "reftarget": "a[data-testid='data-testid Nav menu item'][href='/a/grafana-adaptive-metrics-app/rule-management']",
                    "tooltip": "Click Rules"
                }
            ]
        },
        {
            "type": "interactive",
            "action": "button",
            "reftarget": "Add new rule",
            "content": "Click **Add new rule** to create a custom aggregation or drop rule.",
            "requirements": ["exists-reftarget", "on-page:/a/grafana-adaptive-metrics-app/rule-management"]
        },
        {
            "type": "markdown",
            "content": "Choose the rule type:\n\n- **Aggregation** — to combine similar series and reduce cardinality.\n- **Drop** — to stop collecting redundant metrics.\n\nDefine what the rule targets: enter the metric name or pattern, and select which labels to keep when aggregating (for example, `job`, `instance`)."
        },
        {
            "type": "markdown",
            "content": "Configure your rule settings in the dialog, then click **Save** to save your rule."
        },
        {
            "type": "markdown",
            "content": "## Create exemptions\n\nCreate exemptions to prevent certain metrics or labels from being included in recommendations."
        },
        {
            "type": "multistep",
            "content": "Navigate to **Adaptive Metrics** > **Configuration**.",
            "requirements": ["navmenu-open"],
            "steps": [{
                    "action": "highlight",
                    "reftarget": "a[data-testid='data-testid Nav menu item'][href='/a/grafana-adaptive-metrics-app/overview']",
                    "tooltip": "Click Adaptive Metrics"
                },
                {
                    "action": "highlight",
                    "reftarget": "a[data-testid='data-testid Nav menu item'][href='/a/grafana-adaptive-metrics-app/configuration']",
                    "tooltip": "Click Configuration"
                }
            ]
        },
        {
            "type": "interactive",
            "action": "button",
            "reftarget": "Add new exemption",
            "content": "Click **Add new exemption**.",
            "requirements": ["exists-reftarget", "on-page:/a/grafana-adaptive-metrics-app/configuration"]
        },
        {
            "type": "markdown",
            "content": "From the **Metric** dropdown, select a metric from the list or toggle the **All** switch to apply this exemption to all metrics."
        },
        {
            "type": "markdown",
            "content": "From the **Keep labels** dropdown, select one or more labels you do not want to be aggregated, or toggle **All** to keep all labels. Then click **Save**."
        }
    ]
}